package programmingAssignment2;

import java.util.Iterator;
import java.util.NoSuchElementException;
import java.lang.NullPointerException;
import java.lang.UnsupportedOperationException;

import edu.princeton.cs.algs4.StdOut;
import edu.princeton.cs.algs4.StdRandom;

public class RandomizedQueue<Item> implements Iterable<Item> {
	// what all Randomized queue should have
	private Item[] itemQueue;
	private int size;
	private int first = 0;
	private int last = 0;
	
	/*
	 * Construct an empty randomized queue
	 */
	public RandomizedQueue() {
		itemQueue = (Item[]) new Object[2];
		size = 0;
	}
	
	/*
	 * Is the queue empty?
	 * @return boolean on if the size is empty.
	 */
	public boolean isEmpty() {
		return size == 0;
	}
	
	/*
	 * Return the number of items on the queue
	 * @return size -- the number capcity of the queue.
	 */
	public int size() {
		return size;
	}
	
	/*
	 * Resize the underlying array holding the elements 
	 * Method from https://www.youtube.com/watch?v=GNr872PjQMI
	 * he said we can use.
	 * 
	 * @author Robert Sedgewick & Kevin Wayne
	 * @param capacity -- int that is the capacity of the queue.
	 */
	private void resize(int capacity) {
		assert capacity >= size;
		
		// create new array
		Item[] temp = (Item[]) new Object[capacity];
		
		// copy items over
		for (int i = 0; i < size; i++) {
			temp[i] = itemQueue[i];
		}
		
		// reassign the queue
		itemQueue = temp;
	}
	
	/*
	 * Add the item.
	 * 
	 * @param item -- Item that is added to the queue.
	 * @throw NullPointerException -- when the item is null.
	 */
	public void enqueue(Item item) {
		// handle if item is null
		if (item == null) {
			throw new NullPointerException("item cannot be null");
		}
		
		// resize the array
		if (size == itemQueue.length) {
			resize(2 * itemQueue.length);
		}
		
		// add item
		itemQueue[size++] = item;
	}
	
	/*
	 * Delete and return a random item.
	 * 
	 * @return item -- the deleted item.
	 * @throw NoSuchElementException -- when the queue is empty.
	 */
	public Item dequeue() {
		// handle if queue is empty
		if (isEmpty()) {
			throw new NoSuchElementException("There are no items");
		}
		
		// delete the item
		Item item = itemQueue[size - 1];
		itemQueue[size - 1] = null;
		size--;
		
		// shrink array
		if(size > 0 && size == itemQueue.length / 4) {
			resize(itemQueue.length / 2);
		}
		
		// return the deleted item
		return item;
	}
	
	/*
	 * Return (but do not delete) a random item.
	 * 
	 * @return random item.
	 * @throw NoSuchElementException -- when the queue is empty.
	 */
	public Item sample() {
		// handle if queue is empty
		if (isEmpty()) {
			throw new NoSuchElementException("There are no items");
		}
		
		// generate a random index from the StdRandom jar file
		int randomIndexFromQueue = StdRandom.uniform(size);
		
		// return random item with the random index
		return itemQueue[randomIndexFromQueue];
	}
	
	/*
	 * Return an independent iterator over items in random order.
	 */
	@Override
	public Iterator<Item> iterator() {
		// TODO Auto-generated method stub
		return null;
	}
	
	/*
	 * Unit testing
	 */
	public static void main(String[] args) {
		// TODO Auto-generated method stub

	}

	

}
